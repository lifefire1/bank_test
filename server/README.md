# Проект "Банковский сервис"

## Описание проекта
Проект "Банковский сервис" разрабатывается для создания и управления банковскими операциями, включая учет валютных курсов, операций с пользователями и другими аспектами банковского дела.

## Структура проекта
Проект организован в соответствии с принципами модульности и четкого разделения обязанностей. Вот основные разделы структуры проекта:

### configuration
Директория `configuration` содержит конфигурационные классы для Spring Boot приложения, такие как классы конфигурации базы данных, классы конфигурации бинов и другие настройки приложения.

### controller
Директория `controller` содержит классы контроллеров Spring MVC, которые обрабатывают HTTP-запросы от клиентов и управляют передачей данных между клиентами и сервером.

### entity
Директория `entity` содержит классы, представляющие основные сущности в банковской системе, такие как пользователи, операции и валютные курсы.

### job
Директория `job` содержит классы, отвечающие за выполнение периодических задач, таких как обновление валютных курсов.

### repository
Директория `repository` содержит интерфейсы репозиториев Spring Data JPA для доступа к данным в базе данных.

### service
Директория `service` содержит сервисы, которые обрабатывают бизнес-логику приложения, такие как обработка банковских операций, управление пользователями и обновление валютных курсов.

### table
Директория `table` содержит классы, представляющие таблицы базы данных или другие объекты для хранения данных.

# Описание контроллеров

## ClientController
`ClientController` отвечает за обработку HTTP-запросов, связанных с клиентами и их операциями.

### Методы
1. **retrieveAllOperations**
   - **URL**: `/all_operations/retrieve`
   - **Метод**: GET
   - **Параметры**:
      - `userId` (Long) - идентификатор пользователя, для которого нужно получить все операции.
   - **Описание**: Получает список всех операций для указанного пользователя.

2. **retrieveAllLimitOperations**
   - **URL**: `/all_limit_operations/retrieve`
   - **Метод**: GET
   - **Параметры**:
      - `username` (String) - имя пользователя, для которого нужно получить все лимиты.
   - **Описание**: Получает список всех лимитов для указанного пользователя.

3. **retrieveAlLimitExceededOperations**
   - **URL**: `/all_limit_exceeded/retrieve`
   - **Метод**: GET
   - **Параметры**:
      - `username` (String) - имя пользователя, для которого нужно получить все превышенные лимиты.
   - **Описание**: Получает список всех операций с превышенными лимитами для указанного пользователя.

4. **setNewLimit**
   - **URL**: `/make_new_limit/retrieve`
   - **Метод**: POST
   - **Тело запроса**: JSON объект типа User
   - **Описание**: Устанавливает новый лимит для указанного пользователя.

## CurrencyController
`CurrencyController` отвечает за обновление курсов валют.

### Методы

1. **processClosedPrices**
   - **URL**: `/process-closed-prices`
   - **Метод**: POST
   - **Тело запроса**: JSON объект типа Map<String, String>
   - **Описание**: Получает закрытые цены в виде карты и обновляет курсы валют с использованием службы `UpdateCurrencyRateService`.

## OperationController
`OperationController` отвечает за обработку HTTP-запросов, связанных с операциями по транзакциям.

### Методы

1. **hello**
   - **URL**: `/transaction`
   - **Метод**: POST
   - **Тело запроса**: JSON объект типа Operation
   - **Описание**: Принимает операцию по транзакции и сохраняет ее с помощью службы `OperationService`.


## Как использовать
- Отправьте GET запрос по одному из URL для получения необходимой информации.
- Отправьте POST запрос на `/make_new_limit/retrieve`, указав JSON объект с новым лимитом, чтобы установить новый лимит для пользователя.

## Технологии
Проект использует следующие технологии и инструменты:

- **Java**: Язык программирования для разработки бэкенда.
- **Spring Boot**: Фреймворк для создания веб-приложений на языке Java.
- **Spring Data JPA**: Часть Spring Framework, облегчающая работу с базой данных через JPA.
- **Mockito**: Библиотека для создания моков (заглушек) объектов в тестах.
- **JUnit**: Фреймворк для написания модульных тестов на языке Java.

## Как использовать
Чтобы запустить проект, выполните следующие шаги:

1. Убедитесь, что у вас установлен Java Development Kit (JDK) и Maven.
2. Клонируйте репозиторий проекта на ваш компьютер.
3. Откройте проект в вашей среде разработки (например, IntelliJ IDEA, Eclipse).
4. Настройте конфигурацию базы данных в файле конфигурации.
5. Соберите и запустите проект с помощью Maven.
6. Взаимодействуйте с приложением через HTTP-запросы к его API.

Чтобы запустить проект, выполните следующие шаги:

1. Убедитесь, что у вас установлен Java Development Kit (JDK) и Maven.
2. Клонируйте репозиторий проекта на ваш компьютер.
3. Откройте проект в вашей среде разработки (например, IntelliJ IDEA, Eclipse).
4. Настройте конфигурацию базы данных в файле конфигурации.
5. Соберите и запустите проект с помощью Maven:

    ```bash
    mvn clean test jacoco:report
    ```

   Эта команда выполнит сборку проекта, запустит модульные тесты, а также сгенерирует отчет о покрытии кода тестами.

6. Для упаковки проекта в JAR файл выполните команду:

    ```bash
    mvn package
    ```

7. Для запуска приложения выполните команду:

    ```bash
    java -jar target/<имя_архива>.jar
    ```

   Замените `<имя_архива>` на фактическое имя JAR файла.

## Дополнительные ресурсы
- [Spring Framework Documentation](https://spring.io/projects/spring-framework)
- [Spring Data JPA Documentation](https://spring.io/projects/spring-data-jpa)
- [Mockito Documentation](https://site.mockito.org/)
- [JUnit Documentation](https://junit.org/junit5/docs/current/user-guide/)
